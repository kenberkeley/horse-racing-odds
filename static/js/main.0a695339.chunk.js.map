{"version":3,"sources":["pages/index/index.module.css","components/Header.js","utils/notify.js","components/Select.js","types/index.js","pages/index/comps/EventList/EventItem/OutcomeList.js","pages/index/comps/EventList/EventItem/index.js","pages/index/comps/EventList/index.js","pages/index/index.js","utils/ajax.js","index.js","App.js"],"names":["module","exports","index","Header","title","this","props","react_default","a","createElement","className","React","Component","notify","msg","console","warn","window","alert","Select","_this$props","uid","label","value","options","onChange","optionLabelField","optionValueField","style","overflow","htmlFor","id","map","option","key","defaultProps","OutcomeItemType","shape","number","isRequired","name","string","winPrice","OutcomeListType","arrayOf","MarketItemType","outcomeList","MarketListType","EventItemType","meetingName","startTime","marketList","COLUMNS","OutcomeList","col","outcome","EventItem","completed","_ref","hours","minutes","seconds","concat","pad0","event","dayjs","unix","format","isAfter","Date","index_es","date","toDate","renderer","countdownRenderer","daysInHours","marketItem","OutcomeList_OutcomeList","EventList","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleSelect","evt","setState","displayedId","target","state","eventList","find","item","Select_Select","EventItem_EventItem","Index","isLoading","competitionList","req","url","Nprogress","start","axios","then","res","done","data","catch","err","response","status","statusText","message","length","react_document_title_default","arguments","undefined","_this$state","renderLoading","renderNoData","styles","EventList_EventList","ReactDOM","render","Header_Header","padding","index_Index","document","getElementById"],"mappings":"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","file":"static/js/main.0a695339.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"index\":\"index_index__1T6hi\"};","import React from 'react'\nimport { string } from 'prop-types'\n\nexport default class Header extends React.Component {\n  static propTypes = {\n    title: string.isRequired\n  }\n\n  render () {\n    const { title } = this.props\n    return (\n      <header className='hero is-light is-small'>\n        <div className='hero-body'>\n          <div className='container'>\n            <h1 className='title has-text-info has-text-centered'>\n              { title }\n            </h1>\n          </div>\n        </div>\n      </header>\n    )\n  }\n}\n","/**\n * Alternative: lightweight lib like notie, noty, etc\n * @param {string} msg\n */\nexport default function (msg) {\n  console.warn('[Notify]', msg)\n  window.alert(msg)\n}\n","import React from 'react'\nimport { string, number, array, func, oneOfType } from 'prop-types'\n\nexport default class Select extends React.Component {\n  static propTypes = {\n    uid: string.isRequired,\n    label: string.isRequired,\n    value: oneOfType([number, string]),\n    options: array.isRequired,\n    onChange: func.isRequired,\n    optionLabelField: string,\n    optionValueField: string\n  }\n\n  static defaultProps = {\n    optionLabelField: 'name',\n    optionValueField: 'id'\n  }\n\n  render () {\n    const { uid, label, value, options, onChange, optionLabelField, optionValueField } = this.props\n    return (\n      <div className='field has-addons' style={{ overflow: 'hidden' }}>\n        <p className='control'>\n          <label htmlFor={uid} className='button'>\n            { label }\n          </label>\n        </p>\n        <div className='control'>\n          <div className='select'>\n            <select id={uid} onChange={onChange} value={value}>\n              {\n                options.map(option => (\n                  <option key={option[optionValueField]} value={option[optionValueField]}>\n                    { option[optionLabelField] }\n                  </option>\n                ))\n              }\n            </select>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","// https://www.freecodecamp.org/news/react-pattern-centralized-proptypes-f981ff672f3b\nimport { shape, arrayOf, number, string } from 'prop-types'\n\nconst OutcomeItemType = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n  winPrice: number // could be undefined\n})\nexport const OutcomeListType = arrayOf(OutcomeItemType)\n\nconst MarketItemType = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n  outcomeList: OutcomeListType\n})\nconst MarketListType = arrayOf(MarketItemType)\n\nexport const EventItemType = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n  meetingName: string.isRequired,\n  startTime: number.isRequired,\n  marketList: MarketListType\n})\nexport const EventListType = arrayOf(EventItemType)\n","import React from 'react'\nimport { OutcomeListType } from '~/types/'\n\nconst COLUMNS = [\n  /* [<label>, <field>] */\n  ['Runner Name', 'name'],\n  ['Odds', 'winPrice']\n]\n\nexport default class OutcomeList extends React.Component {\n  static propTypes = {\n    outcomeList: OutcomeListType\n  }\n\n  render () {\n    const { outcomeList } = this.props\n    return (\n      <table className='table is-hoverable is-fullwidth'>\n        <thead className='has-text-weight-medium'>\n          <tr>\n            {\n              COLUMNS.map(col => (\n                <td key={col[1]}>\n                  { col[0] }\n                </td>\n              ))\n            }\n          </tr>\n        </thead>\n        <tbody>\n          {\n            outcomeList.map(outcome => (\n              <tr key={outcome.id}>\n                {\n                  COLUMNS.map(col => (\n                    <td key={col[1]}>\n                      { outcome[col[1]] || '--' }\n                    </td>\n                  ))\n                }\n              </tr>\n            ))\n          }\n        </tbody>\n      </table>\n    )\n  }\n}\n","import React from 'react'\nimport dayjs from 'dayjs'\nimport Countdown, { zeroPad as pad0 } from 'react-countdown-now'\nimport { EventItemType } from '~/types/'\nimport OutcomeList from './OutcomeList'\n\nexport default class EventItem extends React.Component {\n  static propTypes = {\n    event: EventItemType\n  }\n\n  countdownRenderer ({ completed, hours, minutes, seconds }) {\n    const msg = completed\n      ? 'already started'\n      : `start in ${pad0(hours)}:${pad0(minutes)}:${pad0(seconds)}`\n    return ` (${msg})`\n  }\n\n  render () {\n    const { event } = this.props\n    const startTime = dayjs.unix(event.startTime)\n    return (\n      <div>\n        <p>\n          <span className='tag'>\n            Event Date: { startTime.format('DD/MM/YYYY') }\n            {\n              startTime.isAfter(new Date()) &&\n              <Countdown\n                key={event.id}\n                date={startTime.toDate()}\n                renderer={this.countdownRenderer}\n                daysInHours\n              />\n            }\n          </span>\n        </p>\n        {\n          event.marketList.map(marketItem => (\n            <OutcomeList\n              key={marketItem.id}\n              outcomeList={marketItem.outcomeList}\n            />\n          ))\n        }\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport Select from '~/components/Select'\nimport { EventListType } from '~/types/'\nimport EventItem from './EventItem/'\n\nexport default class EventList extends React.Component {\n  static propTypes = {\n    eventList: EventListType\n  }\n\n  constructor (props) {\n    super(props)\n    this.state = {\n      displayedId: props.eventList[0].id\n    }\n  }\n\n  componentWillReceiveProps (props) {\n    this.setState({\n      displayedId: props.eventList[0].id\n    })\n  }\n\n  handleSelect = evt => {\n    this.setState({\n      displayedId: +evt.target.value\n    })\n  }\n\n  render () {\n    const { eventList } = this.props\n    const { displayedId } = this.state\n    const event = eventList.find(item => item.id === displayedId)\n    return (\n      <div>\n        <Select\n          uid='event'\n          label='Event Name'\n          value={displayedId}\n          options={eventList}\n          onChange={this.handleSelect}\n        />\n        <EventItem event={event} />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport DocumentTitle from 'react-document-title'\nimport ajax from '~/utils/ajax'\nimport Select from '~/components/Select'\nimport EventList from './comps/EventList'\nimport styles from './index.module.css'\n\nconst API_URL = 'https://adsfeed.sportsbet.com.au/v1/sportsbook/competitions?classIds=1&detailsLevel=O&numMarkets=1'\n\nexport default class Index extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      isLoading: false,\n      displayedId: null,\n      competitionList: []\n    }\n  }\n\n  async componentDidMount () {\n    this.setState({ isLoading: true })\n\n    const { competitionList } = await ajax({ url: API_URL })\n    this.setState({\n      isLoading: false,\n      displayedId: competitionList.length ? competitionList[0].id : null,\n      competitionList\n    })\n  }\n\n  handleSelect = evt => {\n    this.setState({\n      displayedId: +evt.target.value\n    })\n  }\n\n  renderLoading () {\n    const msg = 'Loading Data...'\n    return (\n      <DocumentTitle title={msg}>\n        <p className='has-text-centered'>\n          { msg }\n        </p>\n      </DocumentTitle>\n    )\n  }\n\n  renderNoData (msg = 'No data') {\n    return (\n      <p className='has-text-centered is-italic'>\n        ( { msg } )\n      </p>\n    )\n  }\n\n  render () {\n    const { isLoading, displayedId, competitionList } = this.state\n    if (isLoading) {\n      return this.renderLoading()\n    }\n    if (!competitionList.length) {\n      return this.renderNoData('No competitions')\n    }\n\n    const { eventList } = competitionList.find(item => item.id === displayedId)\n    return (\n      <div className={`box ${styles.index}`}>\n        <Select\n          uid='venue'\n          label='Venue'\n          value={displayedId}\n          options={competitionList}\n          onChange={this.handleSelect}\n        />\n        {\n          eventList.length\n            ? <EventList eventList={eventList} />\n            : this.renderNoData('No events')\n        }\n      </div>\n    )\n  }\n}\n","import axios from 'axios'\nimport Nprogress from 'nprogress'\nimport 'nprogress/nprogress.css'\nimport notify from './notify'\n\n/**\n * @param  {object} req - https://github.com/axios/axios#request-config\n * @return {Promise<any>}\n */\nexport default function ajax (req) {\n  Nprogress.start()\n  return axios(req)\n    /** {object} res - https://github.com/axios/axios#response-schema */\n    .then(res => {\n      Nprogress.done()\n      return res.data\n    })\n    /** {object} err - https://github.com/axios/axios#handling-errors */\n    .catch(err => {\n      const res = err.response\n      if (res) {\n        notify(`[${res.status}] ${res.statusText}`)\n      } else {\n        notify(err.message)\n      }\n      Nprogress.done(true)\n      throw err\n    })\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n","import React from 'react'\nimport DocumentTitle from 'react-document-title'\nimport Header from './components/Header'\n\nimport Index from './pages/index/'\n\nexport default function App () {\n  const title = 'Horse Racing Odds'\n  return (\n    <DocumentTitle title={title}>\n      <div>\n        <Header title={title} />\n        <main className='container' style={{ padding: '1.5rem .75rem' }}>\n          {/* should use router if there are more pages */}\n          <Index />\n        </main>\n      </div>\n    </DocumentTitle>\n  )\n}\n"],"sourceRoot":""}