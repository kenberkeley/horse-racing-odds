{"version":3,"sources":["pages/index/index.module.css","utils/notify.js","components/Select.js","types/index.js","pages/index/comps/EventList/EventItem/OutcomeList.js","pages/index/comps/EventList/EventItem/index.js","pages/index/comps/EventList/index.js","pages/index/index.js","utils/ajax.js","index.js","App.js"],"names":["module","exports","index","notify","msg","console","warn","window","alert","Select","_this$props","this","props","uid","label","value","options","onChange","optionLabelField","optionValueField","react_default","a","createElement","className","style","overflow","htmlFor","id","map","option","key","React","Component","defaultProps","OutcomeItemType","shape","number","isRequired","name","string","winPrice","OutcomeListType","arrayOf","MarketItemType","outcomeList","MarketListType","EventItemType","meetingName","startTime","marketList","COLUMNS","OutcomeList","col","outcome","EventItem","completed","_ref","hours","minutes","seconds","concat","pad0","event","dayjs","unix","format","isAfter","Date","index_es","date","toDate","renderer","countdownRenderer","daysInHours","marketItem","OutcomeList_OutcomeList","EventList","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleSelect","evt","setState","displayedId","target","state","eventList","find","item","Select_Select","EventItem_EventItem","Index","competitionList","req","url","Nprogress","start","axios","then","res","done","data","catch","err","response","status","statusText","message","_this$state","length","styles","EventList_EventList","ReactDOM","render","padding","index_Index","document","getElementById"],"mappings":"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","file":"static/js/main.b21a583d.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"index\":\"index_index__1T6hi\"};","/**\n * Alternative: lightweight lib like notie, noty, etc\n * @param {string} msg\n */\nexport default function (msg) {\n  console.warn('[Notify]', msg)\n  window.alert(msg)\n}\n","import React from 'react'\nimport { string, number, array, func, oneOfType } from 'prop-types'\n\nexport default class Select extends React.Component {\n  static propTypes = {\n    uid: string.isRequired,\n    label: string.isRequired,\n    value: oneOfType([number, string]),\n    options: array.isRequired,\n    onChange: func.isRequired,\n    optionLabelField: string,\n    optionValueField: string\n  }\n\n  static defaultProps = {\n    optionLabelField: 'name',\n    optionValueField: 'id'\n  }\n\n  render () {\n    const { uid, label, value, options, onChange, optionLabelField, optionValueField } = this.props\n    return (\n      <div className='field has-addons' style={{ overflow: 'hidden' }}>\n        <p className='control'>\n          <label htmlFor={uid} className='button'>\n            { label }\n          </label>\n        </p>\n        <div className='control'>\n          <div className='select'>\n            <select id={uid} onChange={onChange} value={value}>\n              {\n                options.map(option => (\n                  <option key={option[optionValueField]} value={option[optionValueField]}>\n                    { option[optionLabelField] }\n                  </option>\n                ))\n              }\n            </select>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","// https://www.freecodecamp.org/news/react-pattern-centralized-proptypes-f981ff672f3b\nimport { shape, arrayOf, number, string } from 'prop-types'\n\nconst OutcomeItemType = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n  winPrice: number // could be undefined\n})\nexport const OutcomeListType = arrayOf(OutcomeItemType)\n\nconst MarketItemType = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n  outcomeList: OutcomeListType\n})\nconst MarketListType = arrayOf(MarketItemType)\n\nexport const EventItemType = shape({\n  id: number.isRequired,\n  name: string.isRequired,\n  meetingName: string.isRequired,\n  startTime: number.isRequired,\n  marketList: MarketListType\n})\nexport const EventListType = arrayOf(EventItemType)\n","import React from 'react'\nimport { OutcomeListType } from '~/types/'\n\nconst COLUMNS = [\n  /* [<label>, <field>] */\n  ['Runner Name', 'name'],\n  ['Odds', 'winPrice']\n]\n\nexport default class OutcomeList extends React.Component {\n  static propTypes = {\n    outcomeList: OutcomeListType\n  }\n\n  render () {\n    const { outcomeList } = this.props\n    return (\n      <table className='table is-hoverable is-fullwidth'>\n        <thead className='has-text-weight-medium'>\n          <tr>\n            {\n              COLUMNS.map(col => (\n                <td key={col[1]}>\n                  { col[0] }\n                </td>\n              ))\n            }\n          </tr>\n        </thead>\n        <tbody>\n          {\n            outcomeList.map(outcome => (\n              <tr key={outcome.id}>\n                {\n                  COLUMNS.map(col => (\n                    <td key={col[1]}>\n                      { outcome[col[1]] || '--' }\n                    </td>\n                  ))\n                }\n              </tr>\n            ))\n          }\n        </tbody>\n      </table>\n    )\n  }\n}\n","import React from 'react'\nimport dayjs from 'dayjs'\nimport Countdown, { zeroPad as pad0 } from 'react-countdown-now'\nimport { EventItemType } from '~/types/'\nimport OutcomeList from './OutcomeList'\n\nexport default class EventItem extends React.Component {\n  static propTypes = {\n    event: EventItemType\n  }\n\n  countdownRenderer ({ completed, hours, minutes, seconds }) {\n    const msg = completed\n      ? 'already started'\n      : `start in ${pad0(hours)}:${pad0(minutes)}:${pad0(seconds)}`\n    return ` (${msg})`\n  }\n\n  render () {\n    const { event } = this.props\n    const startTime = dayjs.unix(event.startTime)\n    return (\n      <div>\n        <p>\n          <span className='tag'>\n            Event Date: { startTime.format('DD/MM/YYYY') }\n            {\n              startTime.isAfter(new Date()) &&\n              <Countdown\n                key={event.id}\n                date={startTime.toDate()}\n                renderer={this.countdownRenderer}\n                daysInHours\n              />\n            }\n          </span>\n        </p>\n        {\n          event.marketList.map(marketItem => (\n            <OutcomeList\n              key={marketItem.id}\n              outcomeList={marketItem.outcomeList}\n            />\n          ))\n        }\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport Select from '~/components/Select'\nimport { EventListType } from '~/types/'\nimport EventItem from './EventItem/'\n\nexport default class EventList extends React.Component {\n  static propTypes = {\n    eventList: EventListType\n  }\n\n  constructor (props) {\n    super(props)\n    this.state = {\n      displayedId: props.eventList[0].id // TODO: undefined?\n    }\n  }\n\n  componentWillReceiveProps (props) {\n    this.setState({\n      displayedId: props.eventList[0].id // TODO: undefined?\n    })\n  }\n\n  handleSelect = evt => {\n    this.setState({\n      displayedId: +evt.target.value\n    })\n  }\n\n  render () {\n    const { eventList } = this.props\n    const { displayedId } = this.state\n    const event = eventList.find(item => item.id === displayedId) // TODO: undefined?\n    return (\n      <div>\n        <Select\n          uid='event'\n          label='Event Name'\n          value={displayedId}\n          options={eventList}\n          onChange={this.handleSelect}\n        />\n        <EventItem event={event} />\n      </div>\n    )\n  }\n}\n","import React from 'react'\nimport ajax from '~/utils/ajax'\nimport Select from '~/components/Select'\nimport EventList from './comps/EventList'\nimport styles from './index.module.css'\n\nconst API_URL = 'https://adsfeed.sportsbet.com.au/v1/sportsbook/competitions?classIds=1&detailsLevel=O&numMarkets=1'\n\nexport default class Index extends React.Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      displayedId: null,\n      competitionList: []\n    }\n  }\n\n  async componentDidMount () {\n    const { competitionList } = await ajax({ url: API_URL })\n    this.setState({\n      displayedId: competitionList[0].id, // TODO: undefined?\n      competitionList\n    })\n  }\n\n  handleSelect = evt => {\n    this.setState({\n      displayedId: +evt.target.value\n    })\n  }\n\n  render () {\n    const { displayedId, competitionList } = this.state\n    if (!competitionList.length) return null // TODO: show loading\n\n    const { eventList } = competitionList.find(item => item.id === displayedId)\n    return (\n      <div className={`box ${styles.index}`}>\n        <Select\n          uid='venue'\n          label='Venue'\n          value={displayedId}\n          options={competitionList}\n          onChange={this.handleSelect}\n        />\n        <EventList eventList={eventList} />\n      </div>\n    )\n  }\n}\n","import axios from 'axios'\nimport Nprogress from 'nprogress'\nimport 'nprogress/nprogress.css'\nimport notify from './notify'\n\n/**\n * @param  {object} req - https://github.com/axios/axios#request-config\n * @return {Promise<any>}\n */\nexport default function ajax (req) {\n  Nprogress.start()\n  return axios(req)\n    /** {object} res - https://github.com/axios/axios#response-schema */\n    .then(res => {\n      Nprogress.done()\n      return res.data\n    })\n    /** {object} err - https://github.com/axios/axios#handling-errors */\n    .catch(err => {\n      const res = err.response\n      if (res) {\n        notify(`[${res.status}] ${res.statusText}`)\n      } else {\n        notify(err.message)\n      }\n      Nprogress.done(true)\n      throw err\n    })\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n)\n","import React from 'react'\nimport Index from './pages/index/'\n\nexport default function App () {\n  // should use router if there are more pages\n  return (\n    <main className='container' style={{ padding: '1.5rem .75rem' }}>\n      <Index />\n    </main>\n  )\n}\n"],"sourceRoot":""}